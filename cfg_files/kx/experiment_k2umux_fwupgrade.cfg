{
    "epics_root": "test_epics",
    "init": {
        "dspEnable": 1,
        "band_2": {
            "iq_swap_in": 0,
            "iq_swap_out": 0,
            "refPhaseDelay": 6,
            "refPhaseDelayFine": 0,
	    "trigRstDly" : 15, # 0xF
            "feedbackEnable": 1,
            "feedbackGain": 256,
            "feedbackPolarity": 1,
            "feedbackLimitkHz": 225,
            "lmsGain": 7,
            "att_uc": 15,
            "att_dc": 0,
            "amplitude_scale": 10
        },
        "band_3": {
            "iq_swap_in": 0,
            "iq_swap_out": 0,
            "refPhaseDelay": 6,
            "refPhaseDelayFine": 0,
	    "trigRstDly" : 15, # 0xF
            "feedbackEnable": 1,
            "feedbackGain": 256,
            "feedbackPolarity": 1,
            "feedbackLimitkHz": 225,
            "lmsGain": 7,
            "att_uc": 27,
            "att_dc": 0,
            "amplitude_scale": 12
        }
    },
    "bad_mask": {
        "0": [
            5000,
            5100
        ],
        "1": [
            5171.64,
            5171.74
        ],
        "2": [
            5213.595,
            5213.695
        ],
        "3": [
            5303.851,
            5304.35
        ],
        "4": [
            5377.315,
            5377.415
        ],
        "5": [
            5438.011,
            5438.111
        ],
        "6": [
            5468.06,
            5468.16
        ],
        "7": [
            5552.936,
            5553.036
        ],
        "8": [
            5622.736,
            5622.836
        ],
        "9": [
            5643.536,
            5643.636
        ],
        "10": [
            5648.466,
            5648.566
        ],
        "11": [
            5678.916,
            5679.016
        ],
        "12": [
            5698.016,
            5698.116
        ],
        "13": [
            5727.666,
            5727.766
        ],
        "14": [
            5241.97,
            5242.18
        ],
        "15": [
            5209.25,
            5209.75
        ],
        "16": [
            5236.0,
            5237.0
        ],
        "17": [
            5265.5,
            5265.66
        ],
        "18": [
            5278.65,
            5279.55
        ],
        "19": [
            5295.0,
            5296.0
        ],
        "20": [
            5306.3,
            5306.76
        ],
        "21": [
            5307.12,
            5315.2
        ],
        "22": [
            5343.0,
            5343.75
        ],
        "23": [
            5355.3,
            5356.11
        ],
        "24": [
            5407.19,
            5407.59
        ],
        "25": [
            5413.4,
            5413.96
        ],
        "26": [
            5439.04,
            5439.5
        ],
        "27": [
            5468.5,
            5469.12
        ],
        "28": [
            5497.0,
            5500.0
        ]
    },
    ## Not clear this is being used
    #"channel_assignment": {
    #    "band_2": "/data/smurf_data/tune/1551155974_channel_assignment_b2.txt",
    #    "band_3": "/data/smurf_data/tune/1551156117_channel_assignment_b3.txt"
    #},
    "amplifier": {
        "hemt_Vg": -0.99,
        "LNA_Vg": 0.0,
	# added for fw upgrade, pulled constants from pysmurf version
	# deployed at Pole originally for BKuMUX
	"bit_to_V_50k": 3.88145e-6,
	"bit_to_V_hemt": 3.84e-06,
	"dac_num_50k": 2,
	# unknown in field
	"hemt_Id_offset": 0,
	"hemt_gate_max_voltage": 1.0,
	"hemt_gate_min_voltage": -1.0 
    },
    "attenuator": {
        "att1": 0,
        "att2": 1,
        "att3": 2,
        "att4": 3
    },
    "chip_to_freq": {
        "9": [
            4.9415,
            5.05
        ],
        "10": [
            5.05,
            5.1755
        ],
        "11": [
            5.2015,
            5.2825
        ],
        "12": [
            5.2825,
            5.4105
        ],
        "13": [
            5.4205,
            5.5455
        ],
        "14": [
            5.5515,
            5.6765
        ],
        "15": [
            5.6665,
            5.7915
        ],
        "16": [
            5.7905,
            5.9155
        ]
    },
    "pic_to_bias_group": {
        "9": 8,
        "11": 10,
        "13": 12,
        "15": 14,
        "14": 15,
        "12": 13,
        "10": 11,
        "8": 9,
        "7": 6,
        "5": 4,
        "3": 2,
        "1": 0,
        "6": 7,
        "4": 5,
        "2": 3,
        "0": 1
    },
    "bias_group_to_pair": {
        #"8": [
        #    2,
        #    1
        #],
        "10": [
            4,
            3
        ],
        "12": [
            6,
            5
        ],
        "14": [
            8,
            7
        ],
        "15": [
            10,
            9
        ],
        "13": [
            12,
            11
        ],
        "11": [
            14,
            13
        ],
        "9": [
            16,
            15
        ],
        "6": [
            18,
            17
        ],
        "4": [
            20,
            19
        ],
        "2": [
            22,
            21
        ],
        "0": [
            24,
            23
        ],
        "7": [
            26,
            25
        ],
        "5": [
            28,
            27
        ],
        "3": [
            30,
            29
        ],
        "1": [
            32,
            31
        ]
    },
    "R_sh": 0.0029,
    "bias_line_resistance": 20300.0,
    "high_low_current_ratio": 10.15,
    "high_current_mode_bool": 0,
    "all_bias_groups": [
        1,
        2,
        3,
        4,
        5,
        7
    ],
    "tune_band": {
        "n_samples": 262144,
        "grad_cut": 0.05,
        "amp_cut": 0.25,
        "freq_max": 250000000,
        "freq_min": -250000000,
        "fraction_full_scale": 0.5,
	"reset_rate_khz": 4.0,
        "lms_freq": {
            "2": 8185,
            "3": 15741
        },
	"delta_freq": {
		    "2" : 0.02,
		    "3" : 0.02
        },
	"eta_scan_amplitude":{
		    "2" : 10,
		    "3" : 12
	},
	"eta_scan_averages": {
		    "2" : 1,
		    "3" : 1
        },
	"eta_scan_del_f": {
		    "2": 5000,
		    "3": 5000
	},
	"feedback_start_frac" : {
		    "2" : 0.05,
		    "3" : 0.05
	},
	"feedback_end_frac" : {
		    "2" : 0.98,
		    "3" : 0.98
	},
	"gradient_descent_gain": {
		    "2" : 1e-4,
		    "3" : 1e-4
        },
	"gradient_descent_averages": {
		    "2" : 1,
		    "3" : 1
        },
	"gradient_descent_converge_hz":{
		    "2" : 500,
		    "3" : 500
	},
	"gradient_descent_step_hz":{
		    "2" : 1000,
		    "3" : 1000
	},
	"gradient_descent_momentum":{
		    "2" : 1,
		    "3" : 1
	},
	"gradient_descent_beta": {
		    "2" : 0,
		    "3" : 0
	}
        #"default_tune": "/data/smurf_data/tune/1546648481_tune.npy"
    },
    "flux_ramp": {
        "select_ramp": 1,
#        "ramp_start_mode": 1,
#        "coupling": "AC",
        "num_flux_ramp_counter_bits": 32
    },
    "constant": {
        "pA_per_phi0": 9000000.0
    },
    "fs": 180.0,
    "smurf_to_mce": {
        "smurf_to_mce_file": "/usr/local/controls/Applications/smurf/smurf2mce/current/mcetransmit/smurf2mce.cfg",
        "mask_file": "/home/cryo/smurf2mce/current/mcetransmit/mask.txt",
        "receiver_ip": "tcp://192.168.3.134:5333",
        "port_number": "5333",
        "filter_freq": 63,
        "filter_order": 4,
        "filter_gain": 1.0,
	"data_frames": 200000,
	"file_name_extend": 1,
	"num_averages": 0
    },

    "timing" : {
    	# "ext_ref" : internal oscillator locked to an external
	#   front-panel reference, or unlocked if there is no front
	#   panel reference.  (LmkReg_0x0147 : 0x1A).  Also sets
	#   flux_ramp_start_mode=0
	# "backplane" : takes timing from timing master through
	#   backplane.  Also sets flux_ramp_start_mode=1.
	"timing_reference" : "ext_ref"
    },

    "default_data_dir": "/data/smurf_data",
    "smurf_cmd_dir": "/data/smurf_data/smurf_cmd",
    "tune_dir": "/data/smurf_data/tune",
    "status_dir": "/data/smurf_data/status"
#      "outputs": {}
}
